<div class="fixed inset-0 bg-black bg-opacity-70 z-50" (click)="closeModal()"></div>
<div class="fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-gray-800 p-2 z-50 overflow-hidden rounded-3xl max-w-md w-full h-4/5 flex flex-col shadow-lg">
  <div class="flex-1 overflow-y-auto flex flex-col">
    <div class="flex flex-col rounded-2xl max-w-4/5 word-break bg-gray-600 text-white p-4 mb-2">
      <div class="break-words font-bold mb-2">{{ ticket.subject }}</div>
      <div class="break-words mt-2">{{ ticket.description }}</div>
    </div>
    @for (comment of ticket.comments; track $index) {
      <div class="flex flex-col p-2 mb-2 rounded-2xl max-w-4/5 word-break relative text-white" [ngClass]="{'bg-green-600 self-end': comment.author.id === userId, 'bg-gray-600 self-start': comment.author.id !== userId}">
        <div class="flex items-center">
          <div class="p-2 break-words">{{ comment.content }}</div>
        </div>
      </div>
    }
  </div>
</div>

